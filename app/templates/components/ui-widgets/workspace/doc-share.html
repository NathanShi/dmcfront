<md-dialog>
  <md-toolbar>
    <div class="md-toolbar-tools">
      <h2>Share</h2>
      <span flex></span>
    </div>
  </md-toolbar>
  <md-content>
      <section>
          <h3>{{file.documentName}}</h3>
          <md-select ng-model="currentDoc" placeholder="Version" class="md-no-underline">
            <md-option ng-repeat="doc in docs" ng-value="doc">Version {{doc.version+1}}</md-option>
          </md-select>
          <md-select ng-model="shareType" placeholder="Share Type" class="md-no-underline">
              <md-option ng-repeat="(key, value) in shareTypes" value="{{key}}">{{value}}</md-option>
          </md-select>
          <md-autocomplete ng-if="shareType != 'external'" flex
              md-input-name="autocompleteField"
              md-no-cache="true"
              md-selected-item="user"
              md-search-text="query"
              md-items="item in search(query)"
              md-item-text="item.displayName"
              md-floating-label="Share">
              <md-item-template>
                  <span md-highlight-text="searchText">{{item.displayName}}</span>
              </md-item-template>
          </md-autocomplete>
          <md-input-container ng-show="shareType === 'external'">
              <label>Email</label>
              <input name="shareEmail" ng-model="shareEmail" placeholder="Email"/>
          </md-input-container>
          <md-button class="md-raised md-primary" ng-if="shareType != 'external'" ng-click="share()" ng-disabled="!user" aria-label="share">Share</md-button>
          <md-button class="md-raised md-primary" ng-if="shareType === 'external'" ng-click="shareWithEmail()" ng-disabled="shareEmail == ''" aria-label="share">Share</md-button>
      </section>
  </md-content>
</md-dialog>
