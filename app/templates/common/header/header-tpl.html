<div class="space-header">
</div>

<div style="display: none;" id="bannerMsg">_</div>

<header class='main-header' layout="column"  ng-click="closeMenu()">

<!-- banner message -->
<div class="header-banner" ng-if="showBanner">
  <div class="banner-msg">
    {{bannerMessage}}
  </div>
</div>

<!-- upper part of header -->
<div class="top-header header-padding" layout="row">
    <div class="top-header-inner" layout="column">
        <div class="top-header-content" layout="row" layout-align="center center">
            <div class="logo">
                <a href="index.php"><img ng-src="images/logo.png"></a>
            </div>

            <span flex></span>

            <!-- Notifications -->
            <div layout="row" class="info-button" ng-if="$root.isLogged">
                <md-menu md-offset="0 64">
                    <md-button class="md-button"
                               aria-label="Notifications"
                               ng-click="closeMenu(); $mdOpenMenu($event)">
                        <ng-md-icon icon="notifications" size="25"></ng-md-icon>
                        <span class="count-message" ng-show="notification_alert > 0">{{notification_alert}}</span>
                    </md-button>
                    <md-menu-content class="message-container header-menu-content notifications-list">
                        <div class="zone-top" layout="row" layout-align="space-between center">
                            <h3>Notifications</h3>
                            <md-button md-no-ink href="/notifications.php#/user" ng-click="viewAll" class="view-all-link">VIEW ALL</md-button>
                        </div>
                        <md-menu-item ng-repeat="item in userData.notifications track by $index" ng-if="!item.cleared && !item.deleted" ng-class="{'not-read' : item.unread}">
                        <!-- <md-menu-item ng-repeat="item in userData.notifications | limitTo:5 track by $index" ng-if="!item.cleared && !item.deleted" ng-class="{'not-read' : item.unread}">   -->
                          <a ng-if="item.type == 'NEW_USER_JOINED_ORGANIZATION' || item.type == 'USER_REQUESTS_VERIFICATION'" ng-href='/company-profile.php#/profile/{{userData.companyId}}'>
                            <div layout="row" layout-align="space-between center">
                              <ng-md-icon icon="person_add" size="30" ng-if="item.type == 'NEW_USER_JOINED_ORGANIZATION'"></ng-md-icon>
                              <ng-md-icon icon="check_circle" size="30" ng-if="item.type == 'USER_REQUESTS_VERIFICATION'"></ng-md-icon>
                              <div  layout="column" layout-align="start">
                                <i class="user-name">{{item.createdBy.displayName}}</i>
                                <i class="notifications-text">{{item.message | limitTo: 55}}</i>
                              </div>
                                <!-- clear notification -->
                                <md-button class="md-icon-button clear-notification" aria-label="Clear" md-no-ink ng-click="clearNotification(item,$event);$event.stopPropagation();">
                                    <ng-md-icon icon="close" size="18"></ng-md-icon>
                                </md-button>
                              </div>
                            </a>

                            <a ng-if="item.type == 'DOCUMENT_SHARED' || item.type == 'INVITATION_TO_WORKSPACE'" ng-href="{{item.message}}">
                              <div layout="row" layout-align="space-between center">
                                <ng-md-icon ng-if="item.type == 'DOCUMENT_SHARED'" icon="insert_drive_file" size="30"></ng-md-icon>
                                <ng-md-icon ng-if="item.type == 'INVITATION_TO_WORKSPACE'" icon="folder_open" size="30"></ng-md-icon>
                                <div layout="column" layout-align="start">
                                  <i class="user-name">{{item.createdBy.displayName}}</i>
                                  <i ng-if="item.type == 'DOCUMENT_SHARED'" class="notifications-text">Sent you a document.</i>
                                  <i ng-if="item.type == 'INVITATION_TO_WORKSPACE'" class="notifications-text">Invited you to a workspace.</i>
                                </div>
                                  <!-- clear notification -->
                                  <md-button class="md-icon-button clear-notification" aria-label="Clear" md-no-ink ng-click="clearNotification(item,$event);$event.stopPropagation();">
                                      <ng-md-icon icon="close" size="18"></ng-md-icon>
                                  </md-button>
                                </div>
                              </a>

                        </md-menu-item>
                        <!-- <md-menu-item class="all-link">
                            <a ng-click="markAllRead()">Mark all as read</a>
                        </md-menu-item> -->
                    </md-menu-content>
                </md-menu>
                <!-- Messages -->
                <!-- <md-menu md-offset="0 64" ng-hide="screenSmall()">
                    <md-button class="md-button"
                               aria-label="Messages"
                               ng-click="closeMenu(); $mdOpenMenu($event)">
                        <ng-md-icon icon="email" size="25"></ng-md-icon>
                        <span class="count-message" ng-show="message_alert > 0">{{message_alert}}</span>
                    </md-button>
                    <md-menu-content class="message-container header-menu-content messages-list">
                        <div class="zone-top" layout="row" layout-align="space-between center">
                            <h3>Invitations</h3>
                            <md-button md-no-ink href="/all.php#/invitations" class="view-all-link">View All</md-button>
                        </div>
                        <md-menu-item ng-repeat="item in invitations track by $index">
                            <a ng-href="/all.php#/invitations">
                                <img ng-src="{{item.profileImage}}" alt="{{item.from}}"/>
                                <i class="user-name">{{item.from}}</i>
                                <i class="text">Invited you to {{item.title || "a project"}}</i>
                            </a>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu> -->
            </div>

            <!-- User Account -->
            <div layout="column">
              <md-button ng-href='loginURL' class="login-button" ng-if="!$root.isLogged">Login</md-button>
                <md-menu md-offset="0 64" ng-if="$root.isLogged">
                    <md-button class="user-button"
                               aria-label="Open Latest Services Menu"
                               ng-click="closeMenu(); $mdOpenMenu($event)">
                        <ng-md-icon ng-hide="screenVerySmall()" icon="person" size="20"></ng-md-icon>
                        <ng-md-icon ng-if="screenVerySmall()" icon="person" size="33"></ng-md-icon>
                        <span ng-hide="screenVerySmall()">Hi, {{userData.displayName}}</span>
                    </md-button>
                    <md-menu-content class="header-menu-content">
                        <md-menu-item>
                            <md-button ng-href='/account.php#/{{userAccountId}}/basics'>My Account</md-button>
                        </md-menu-item>
                        <md-menu-item>
                            <md-button ng-if="(userData.roles && userData.roles[userData.companyId]) || userData.isDmdiiAdmin" href="/company-profile.php#/profile/{{userCompanyId}}">My Organization</md-button>
                        </md-menu-item>
                        <!-- <md-menu-item>
                            <md-button ng-href='/profile.php#/{{userProfileId}}'>My Profile</md-button>
                        </md-menu-item> -->
                        <!-- <div ng-if="(userData.roles && userData.roles[userData.companyId]) || userData.isDmdiiAdmin">
                          <md-menu-item ng-if="version1">
                              <md-button href="#">My Submissions</md-button>
                          </md-menu-item>
                          <md-menu-item>
                              <md-button href="/upload-application.php">Submit an App</md-button>
                          </md-menu-item>
                          <md-menu-item ng-if="userData.isDmdiiAdmin">
                              <md-button href="/add-dmdii-content.php">Add DMDII Content</md-button>
                          </md-menu-item>
                          <md-menu-item ng-if="userData.isDmdiiAdmin">
                              <md-button href="/edit-member-page.php">Create DMDII Member</md-button>
                          </md-menu-item>
                          <md-menu-item ng-if="userData.isDmdiiAdmin">
                              <md-button href="/edit-dmdii-project-page.php">Create DMDII Project</md-button>
                          </md-menu-item>
                        </div> -->
                        <md-menu-item>
                            <md-button ng-click='logout()'>Logout</md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
            </div>
        </div>
    </div>
</div>
<!-- End upper part of the header -->

<!-- lower part of the header -->
<div class="bottom-header header-padding" layout="row" ng-class="{'member-portal': membersOnly}" ng-if="$root.isLogged">
    <div layout="column" flex>
        <div layout="row" class="bottom-header-content" flex layout-align="space-between center">

            <!-- Small screen header -->
            <div ng-if="screenSmall()" class="navigation" layout="row" flex layout-align="space-between center">

                <md-menu md-offset="0 57" class="item hamburger-menu" id="multimenu" ng-init="dropDownWidth = 200" style="overflow: visible">

                    <md-button ng-click="closeMenu(); $mdOpenMenu($event); setDropDown($event,dropDownWidth);">
                        <ng-md-icon icon="menu" style="fill: white" size="25"></ng-md-icon>
                    </md-button>

                    <md-menu-content id="hamburger-menu-content" ng-style="{width:dropDownWidth+'px'}">
                        <md-menu-item><md-menu ng-if="(userData.roles && userData.roles[userData.companyId]) || userData.isDmdiiAdmin" style="padding: 0px;" ng-init="dropDownWidth = 200"><md-button class="sub-menu" ng-click="closeSubMenus(); $mdOpenMenu($event); setDropDown($event,dropDownWidth);"><ng-md-icon icon="chevron_right" size="20"></ng-md-icon>Core</md-button><md-menu-content class="sub-menu-content" ng-style="{width:dropDownWidth+'px'}"><md-menu-item>  <md-button ng-click="$mdCloseMenu($event);" href="/about-platform.php">About DMC Platform</md-button></md-menu-item> <!-- <md-menu-item>   <md-button ng-click="$mdCloseMenu($event);" href="/application-creation.php">Application Creation</md-button></md-menu-item> --><!-- <md-menu-item>  <md-button ng-click="$mdCloseMenu($event);" href="/workforce-development.php">Workforce Development</md-button></md-menu-item> --><md-menu-item><md-button ng-click="$mdCloseMenu($event);" href="/security.php">DMC Security</md-button></md-menu-item><md-menu-item><md-button ng-click="$mdCloseMenu($event);" href="/release-notes.php">DMC Releases</md-button></md-menu-item> </md-menu-content></md-menu></md-menu-item>
                        <md-menu-item><md-menu ng-if="(userData.roles && userData.roles[userData.companyId]) || userData.isDmdiiAdmin" style="padding: 0px;" ng-init="dropDownWidth = 200"><md-button class="sub-menu" ng-click="closeSubMenus(); $mdOpenMenu($event); setDropDown($event,dropDownWidth);"><ng-md-icon icon="chevron_right" size="20"></ng-md-icon>Explore</md-button><md-menu-content class="sub-menu-content" ng-style="{width:dropDownWidth+'px'}"><md-menu-item>  <md-button ng-click="$mdCloseMenu($event);" href="/search-v2.php#/members">Individuals</md-button></md-menu-item><md-menu-item>  <md-button ng-click="$mdCloseMenu($event);" href="/search-v2.php#/companies">Organizations</md-button></md-menu-item><md-menu-item>  <md-button ng-click="$mdCloseMenu($event);" href="/community.php#/home">Activities</md-button></md-menu-item><md-menu-item><md-button ng-click="$mdCloseMenu($event);" href="/all-projects.php">Workspaces</md-button></md-menu-item></md-menu-content></md-menu></md-menu-item>
                        <md-menu-item><md-button ng-if="(userData.roles && userData.roles[userData.companyId]) || userData.isDmdiiAdmin" ng-click="$mdCloseMenu($event);" href="/company-profile.php#/profile/{{userCompanyId}}">MY ORGANIZATION</md-button></md-menu-item>
                        <md-menu-item><md-button ng-if="(userData.roles && userData.roles[userData.companyId]) || userData.isDmdiiAdmin" ng-click="$mdCloseMenu($event);" href="marketplace.php#/home?product=services">MARKETPLACE</md-button></md-menu-item>
                        <md-menu-item><md-menu ng-if="(userData.roles && userData.roles[userData.companyId]) || userData.isDmdiiAdmin" style="padding: 0px;" ng-init="dropDownWidth = 200"><md-button class="sub-menu" ng-click="$mdOpenMenu($event); setDropDown($event,dropDownWidth);"><ng-md-icon icon="chevron_right" size="20"></ng-md-icon>DMDII Portal</md-button><md-menu-content class="sub-menu-content" ng-style="{width:dropDownWidth+'px'}"><md-menu-item><md-button ng-click="$mdCloseMenu($event);" href="/about.php">About DMDII Portal</md-button></md-menu-item><md-menu-item><md-button ng-click="$mdCloseMenu($event);" href="/member-directory.php">Member Directory</md-button></md-menu-item><md-menu-item><md-button ng-click="$mdCloseMenu($event);" href="/dmdii-projects.php">Projects Directory</md-button></md-menu-item></md-menu-content></md-menu></md-menu-item>

                    </md-menu-content>
                </md-menu>

                <span flex></span>
            </div>
            <!-- End small screen header -->

            <!-- Large screen header -->
            <div class="navigation" layout="column" layout-align="center center" ng-hide="screenSmall()">
                <div layout="row">

                    <md-menu md-offset="0 57" class="item" ng-init="dropDownWidth = 136">
                      <md-button ng-click="closeMenu(); $mdOpenMenu($event);">
                            Core
                            <ng-md-icon icon="arrow_drop_down" size="43" ng-class="{'member-portal': membersOnly}"></ng-md-icon>
                        </md-button>
                        <md-menu-content class="header-menu-content">
                            <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="/onboarding.php#/home">About the DMC</md-button>
                            </md-menu-item>
                            <!-- <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="/about-platform.php">About the Platform</md-button>
                            </md-menu-item> -->
                            <!-- <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="/application-creation.php">Application Creation</md-button>
                            </md-menu-item> -->
                            <!-- <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="/workforce-development.php">Workforce Development</md-button>
                            </md-menu-item> -->
                            <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="/academia.php">DMC Academia</md-button>
                            </md-menu-item>
                            <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="/security.php">DMC Security</md-button>
                            </md-menu-item>
                           <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="/release-notes.php">DMC Releases</md-button>
                            </md-menu-item>
                            <!--  <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="https://dmc-uilabs.github.io/dmcblog/">DMC Blog</md-button>
                            </md-menu-item> -->
                        </md-menu-content>
                    </md-menu>
                    <md-menu md-offset="0 57" class="item" ng-init="dropDownWidth = 136" ng-if="(userData.roles && userData.roles[userData.companyId]) || userData.isDmdiiAdmin">
                        <md-button
                                aria-label="Open Latest Services Menu"
                                ng-click="closeMenu(); $mdOpenMenu($event); setDropDown($event,dropDownWidth);"
                                ng-class="{'active-page' : activePage.indexOf('explore') > -1}">
                            Explore
                            <ng-md-icon icon="arrow_drop_down" size="43" ng-class="{'member-portal': membersOnly}"></ng-md-icon>
                        </md-button>
                        <md-menu-content class="header-menu-content" ng-style="{width:dropDownWidth+'px'}">
                            <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="/search-v2.php#/members">Individuals</md-button>
                            </md-menu-item>
                            <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="/search-v2.php#/companies">Organizations</md-button>
                            </md-menu-item>
                            <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="/community.php#/home">Activities</md-button>
                            </md-menu-item>
                            <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="/all-projects.php">Workspaces</md-button>
                            </md-menu-item>
                        </md-menu-content>
                    </md-menu>


                    <md-menu-item>
                        <md-button ng-click="$mdCloseMenu($event);" href="/company-profile.php#/profile/{{userCompanyId}}">My Organization</md-button>
                    </md-menu-item>



                <md-menu-item ng-if="(userData.roles && userData.roles[userData.companyId]) || userData.isDmdiiAdmin">
                    <md-button
                            href="marketplace.php#/home?product=services"
                            ng-click="closeMenu(); $mdOpenMenu($event); setDropDown($event,dropDownWidth);"
                            ng-class="{'active-page' : activePage.indexOf('marketplace') > -1}">
                        Marketplace

                    </md-button>
                </md-menu-item>

                    <md-menu ng-if="(userData.roles && userData.roles[userData.companyId]) || userData.isDmdiiAdmin" md-offset="0 57" class="item" ng-init="dropDownWidth = 200">
                        <md-button
                                aria-label="Open Latest Services Menu"
                                ng-click="closeMenu(); $mdOpenMenu($event); setDropDown($event,dropDownWidth);"
                                ng-class="{'active-page' : activePage.indexOf('membersOnly') > -1}">
                            DMDII Portal
                            <ng-md-icon icon="arrow_drop_down" size="43" ng-class="{'member-portal': membersOnly}"></ng-md-icon>
                        </md-button>
                        <md-menu-content class="header-menu-content" ng-style="{width:dropDownWidth+'px'}">
                            <md-menu-item>
                                <md-button ng-click="$mdCloseMenu($event);" href="/about.php">About DMDII Portal</md-button>
                            </md-menu-item>
                            <md-menu-item ng-if="userData.isDMDIIMember || userData.isDmdiiAdmin">
                            <md-button ng-click="$mdCloseMenu($event);" href="/member-directory.php"
                                       ng-class="{'active-page' : activePage.indexOf('member') > -1,
                                           	'member-portal': membersOnly}">Member Directory</md-button>
                           </md-menu-item>
                            <md-menu-item ng-if="userData.isDMDIIMember || userData.isDmdiiAdmin">
                              <md-button ng-click="$mdCloseMenu($event);" href="/dmdii-projects.php"
                                         ng-class="{'active-page' : activePage.indexOf('member') > -1,
                                             	'member-portal': membersOnly}">Projects Directory</md-button>
                            </md-menu-item>
                        </md-menu-content>
                    </md-menu>

                </div>
            </div>
            <!-- End large screen header -->

            <!-- Search Toolbar -->
            <form ng-submit="submitSearch(searchModel)" class="search" layout="row" layout-align="center center">
                <md-input-container md-no-float>
                    <input type="text" placeholder="Search" ng-model="searchModel">
                </md-input-container>
                <md-button class="md-raised" type="submit" aria-label="Search" ng-class="{'member-portal': membersOnly}">
                    <ng-md-icon icon="search" size="21"></ng-md-icon>
                </md-button>
            </form>
        </div>
    </div>
</div>
<!-- End of lower part of header -->

</header>
